[framework] 2020-03-28 15:41:30,513 - org.apache.dubbo.registry.zookeeper.ZookeeperRegistry -4322940 [SpringContextShutdownHook] ERROR org.apache.dubbo.registry.zookeeper.ZookeeperRegistry  -  [DUBBO] Failed to unregister consumer://169.254.86.74/com.business.api.service.OrderInfoService?application=order-center&category=consumers&check=false&dubbo=2.0.2&interface=com.business.api.service.OrderInfoService&lazy=false&methods=updateOrderDetail,insertOrderDetail&pid=2260&qos.enable=false&release=2.7.3&retries=0&revision=1.0.0&side=consumer&sticky=false&timeout=2000&timestamp=1585376970165&version=1.0.0, waiting for retry, cause: Failed to unregister consumer://169.254.86.74/com.business.api.service.OrderInfoService?application=order-center&category=consumers&check=false&dubbo=2.0.2&interface=com.business.api.service.OrderInfoService&lazy=false&methods=updateOrderDetail,insertOrderDetail&pid=2260&qos.enable=false&release=2.7.3&retries=0&revision=1.0.0&side=consumer&sticky=false&timeout=2000&timestamp=1585376970165&version=1.0.0 to zookeeper zookeeper://127.0.0.1:2181/org.apache.dubbo.registry.RegistryService?application=order-center&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=2260&qos.enable=false&release=2.7.3&timestamp=1585376970321, cause: KeeperErrorCode = ConnectionLoss for /dubbo/com.business.api.service.OrderInfoService/consumers/consumer%3A%2F%2F169.254.86.74%2Fcom.business.api.service.OrderInfoService%3Fapplication%3Dorder-center%26category%3Dconsumers%26check%3Dfalse%26dubbo%3D2.0.2%26interface%3Dcom.business.api.service.OrderInfoService%26lazy%3Dfalse%26methods%3DupdateOrderDetail%2CinsertOrderDetail%26pid%3D2260%26qos.enable%3Dfalse%26release%3D2.7.3%26retries%3D0%26revision%3D1.0.0%26side%3Dconsumer%26sticky%3Dfalse%26timeout%3D2000%26timestamp%3D1585376970165%26version%3D1.0.0, dubbo version: 2.7.3, current host: 169.254.86.74
org.apache.dubbo.rpc.RpcException: Failed to unregister consumer://169.254.86.74/com.business.api.service.OrderInfoService?application=order-center&category=consumers&check=false&dubbo=2.0.2&interface=com.business.api.service.OrderInfoService&lazy=false&methods=updateOrderDetail,insertOrderDetail&pid=2260&qos.enable=false&release=2.7.3&retries=0&revision=1.0.0&side=consumer&sticky=false&timeout=2000&timestamp=1585376970165&version=1.0.0 to zookeeper zookeeper://127.0.0.1:2181/org.apache.dubbo.registry.RegistryService?application=order-center&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=2260&qos.enable=false&release=2.7.3&timestamp=1585376970321, cause: KeeperErrorCode = ConnectionLoss for /dubbo/com.business.api.service.OrderInfoService/consumers/consumer%3A%2F%2F169.254.86.74%2Fcom.business.api.service.OrderInfoService%3Fapplication%3Dorder-center%26category%3Dconsumers%26check%3Dfalse%26dubbo%3D2.0.2%26interface%3Dcom.business.api.service.OrderInfoService%26lazy%3Dfalse%26methods%3DupdateOrderDetail%2CinsertOrderDetail%26pid%3D2260%26qos.enable%3Dfalse%26release%3D2.7.3%26retries%3D0%26revision%3D1.0.0%26side%3Dconsumer%26sticky%3Dfalse%26timeout%3D2000%26timestamp%3D1585376970165%26version%3D1.0.0
	at org.apache.dubbo.registry.zookeeper.ZookeeperRegistry.doUnregister(ZookeeperRegistry.java:126)
	at org.apache.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:266)
	at org.apache.dubbo.registry.support.AbstractRegistry.destroy(AbstractRegistry.java:465)
	at org.apache.dubbo.registry.support.FailbackRegistry.destroy(FailbackRegistry.java:401)
	at org.apache.dubbo.registry.zookeeper.ZookeeperRegistry.destroy(ZookeeperRegistry.java:104)
	at org.apache.dubbo.registry.support.AbstractRegistryFactory.destroyAll(AbstractRegistryFactory.java:75)
	at org.apache.dubbo.config.DubboShutdownHook.doDestroy(DubboShutdownHook.java:89)
	at org.apache.dubbo.config.spring.extension.SpringExtensionFactory$ShutdownHookListener.onApplicationEvent(SpringExtensionFactory.java:114)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1012)
	at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:948)
Caused by: java.lang.IllegalStateException: KeeperErrorCode = ConnectionLoss for /dubbo/com.business.api.service.OrderInfoService/consumers/consumer%3A%2F%2F169.254.86.74%2Fcom.business.api.service.OrderInfoService%3Fapplication%3Dorder-center%26category%3Dconsumers%26check%3Dfalse%26dubbo%3D2.0.2%26interface%3Dcom.business.api.service.OrderInfoService%26lazy%3Dfalse%26methods%3DupdateOrderDetail%2CinsertOrderDetail%26pid%3D2260%26qos.enable%3Dfalse%26release%3D2.7.3%26retries%3D0%26revision%3D1.0.0%26side%3Dconsumer%26sticky%3Dfalse%26timeout%3D2000%26timestamp%3D1585376970165%26version%3D1.0.0
	at org.apache.dubbo.remoting.zookeeper.curator.CuratorZookeeperClient.delete(CuratorZookeeperClient.java:150)
	at org.apache.dubbo.registry.zookeeper.ZookeeperRegistry.doUnregister(ZookeeperRegistry.java:124)
	... 14 more
Caused by: org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /dubbo/com.business.api.service.OrderInfoService/consumers/consumer%3A%2F%2F169.254.86.74%2Fcom.business.api.service.OrderInfoService%3Fapplication%3Dorder-center%26category%3Dconsumers%26check%3Dfalse%26dubbo%3D2.0.2%26interface%3Dcom.business.api.service.OrderInfoService%26lazy%3Dfalse%26methods%3DupdateOrderDetail%2CinsertOrderDetail%26pid%3D2260%26qos.enable%3Dfalse%26release%3D2.7.3%26retries%3D0%26revision%3D1.0.0%26side%3Dconsumer%26sticky%3Dfalse%26timeout%3D2000%26timestamp%3D1585376970165%26version%3D1.0.0
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:102)
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
	at org.apache.zookeeper.ZooKeeper.delete(ZooKeeper.java:882)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:274)
	at org.apache.curator.framework.imps.DeleteBuilderImpl$5.call(DeleteBuilderImpl.java:268)
	at org.apache.curator.connection.StandardConnectionHandlingPolicy.callWithRetry(StandardConnectionHandlingPolicy.java:64)
	at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:100)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.pathInForeground(DeleteBuilderImpl.java:265)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:249)
	at org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:34)
	at org.apache.dubbo.remoting.zookeeper.curator.CuratorZookeeperClient.delete(CuratorZookeeperClient.java:147)
	... 15 more
